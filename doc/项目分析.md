#### 目标 
对挖矿信息环境的状态监控，保证设备正常运转和挖矿稳定的运行

#### 分析
* 由于挖矿的状态是动态的变化的，所有需要实时抓取挖矿状态和设备硬件的信息
* 随着worker数量的增多，批量并发命令抓取信息，可能会加重miner负载(根据运维批量执行ansible经验反馈)
* 在实时性和信息的准确性方面需要测试，根据指定维度找到一个平衡点

#### 需求
根据分析可得项目需要满足以下几点要求
* 作为监控信息肯定要实时获取，但是要实时获取整个信息的维度是可控的，具体可控维度
    * 实时获取信息时间间隔可配置
    * 同时并发命令数量进行控制，以 hostName,命令类型等限制
* 具体可控数值阈值，以测试为准    
* 为了保证lotus安全性，不能直接获取相关信息，这个待调研（lotus只读权限）

#### 命令分析

挖矿相关的信息，这个变化频率不大，可以降低实时要求 

    // 查看集群消息数，
    lotus mpool pending |grep -a "Message" |wc -l             

    //查看 post地址余额带post标志的地址
    lotus-miner actor control list
    
    // 其余挖矿整体信息
    lotus-miner info

    // 工作任务查看
    lotus-miner sealing jobs
    
    // worker列表查看
    lotus-miner sealing workers
        

以下为硬件信息，需要实时关注  

        
    // 查看温度硬件信息
    sensors
    
    // cpu查看负载
    uptime
    
    // 查看内存信息
    free -h
    
    // 查案磁盘信息
    df -h
    
    // 查看网卡速速
    sar -n DEV 1 2
    
    // 查看io速速
    iotop -bn1|head -n 2
    
    // 查看显卡
     nvidia-smi
     
     
#### 代码说明

* dev 分支目前是获取硬件信息，以 worker为单位进行并发获取的，经过初级测试 
* dv1 分支以单个获取命令为调度单位，时间可配置，开发完成，环境没有暂时还未测试     

    